!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),n(3),t.exports=n(4)},function(t,e,n){"use strict";n.r(e);n(2)},function(t,e){mapboxgl.accessToken="pk.eyJ1IjoibWtvemFrMDEwOCIsImEiOiJjamljeGF4Y3MwNGZrM3BvNmMxd2hsY2wzIn0.ErvzY580HhOEokFZR1GOTg";var n=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/dark-v10",center:[-77.038659,38.931567],zoom:15});n.addControl(new mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}));var a={type:"FeatureCollection",features:[]},o=[],r=!1,c=function(t,e){document.querySelector(".fa-hand-rock-o").style.color=e,o.forEach(function(e){e.marker.setDraggable(t),e.marker.on("dragend",function(){e.el.setAttribute("lng",this.getLngLat().lng),e.el.setAttribute("lat",this.getLngLat().lat)})}),r=!r},l=function(t){var e=document.createElement("div"),a={lat:t.geometry?t.geometry.coordinates[1]:t.lngLat.wrap().lat,lng:t.geometry?t.geometry.coordinates[0]:t.lngLat.wrap().lng};e.className+="places";var r=document.querySelector(".total");e.setAttribute("lng",t.geometry?t.geometry.coordinates[0]:t.lngLat.wrap().lng),e.setAttribute("lat",t.geometry?t.geometry.coordinates[1]:t.lngLat.wrap().lat),t.geometry&&(e.style.backgroundColor=t.geometry.color,e.setAttribute("data-numberc",u(t.geometry.color))),r.innerHTML=Number(r.innerHTML)+1;var c=new mapboxgl.Marker(e).setLngLat(a).addTo(n);o.push({marker:new mapboxgl.Marker(e).setLngLat(a).addTo(n),el:e}),s(),i(),e.addEventListener("click",function(t){t.stopPropagation(),document.getElementsByClassName("mapboxgl-popup").length&&d("mapboxgl-popup"),(new mapboxgl.Popup).setLngLat({lng:e.getAttribute("lng"),lat:e.getAttribute("lat")}).setHTML('\n\n\t\t\t\t\t\t          <p>\n\t\t\t\t\t\t            <a class="color" id="black" data-color="black" data-number="zero"></a>\n\t\t\t\t\t\t            <a class="color" id="gray" data-color="gray" data-number="one"></a>\n\t\t\t\t\t\t            <a class="color" id="red" data-color="red" data-number="two"></a>\n\t\t\t\t\t\t            <a class="color" id="orange" data-color="orange" data-number="three"></a>\n\t\t\t\t\t\t            <a class="color" id="lime" data-color="lime" data-number="four"></a>\n\t\t\t\t\t\t            <a class="color" id="green" data-color="green" data-number="five"></a>\n\t\t\t\t\t\t            </p>\n\t\t\t\t\t\t          <div class="wrapper--center"><a id="remove-marker">Remove</a></div>\n\t\t\t\t\t\t        ').addTo(n),document.getElementById("remove-marker").addEventListener("click",function(t){t.preventDefault(),c.remove(),d("mapboxgl-popup"),i()});var a=document.querySelectorAll(".color");Object.entries(a).map(function(t){t[1].addEventListener("click",function(){e.style.backgroundColor=this.getAttribute("data-color"),e.setAttribute("data-numberc",u(window.getComputedStyle(this).getPropertyValue("background-color"))),i()})})})};function s(){a.features=[],document.querySelectorAll(".places").forEach(function(t){var e=t.style.backgroundColor;a.features.push(JSON.parse('{"id":"'.concat(Number(2e5*Math.random()),'","type":\n\t\t\t\t"Feature",\n\t\t\t\t"properties":{},\n\t\t\t\t"geometry":\n\t\t\t\t{\n\t\t\t\t\t"coordinates":[').concat(t.getAttribute("lng"),",").concat(t.getAttribute("lat"),'],\n\t\t\t\t\t"type":"Point",\n\t\t\t\t\t"color": "').concat(e,'"\n\t\t\t\t}\n\t\t\t}')))})}function i(){for(var t=document.querySelectorAll(".places"),e=document.querySelectorAll(".count"),n=1;n<e.length;n++){for(var a=0,o=0;o<t.length;o++)e[n].getAttribute("data-pcount")==t[o].getAttribute("data-numberc")&&(a+=1);e[n].innerHTML=a}document.querySelector(".total").innerHTML=document.querySelectorAll(".places").length}function d(t){for(var e=document.getElementsByClassName(t);e.length>0;)e[0].parentNode.removeChild(e[0])}function u(t){switch(t){case"rgb(0, 0, 0)":case"black":return"zero";case"rgb(128, 128, 128)":case"gray":return"one";case"rgb(255, 0, 0)":case"red":return"two";case"rgb(255, 165, 0)":case"orange":return"three";case"rgb(0, 255, 0)":case"lime":return"four";case"rgb(0, 128, 0)":case"green":return"five";default:return"total"}}document.getElementById("dragged").addEventListener("click",function(t){r?c(!1,"black"):c(!0,"red")}),n.on("load",function(){n.resize(),n.on("click",function(t){r||l(t)}),n.on("mousemove",function(t){document.getElementById("info").innerHTML=JSON.stringify(t.point)+"<br />"+JSON.stringify(t.lngLat.wrap())}),n.on("mouseenter","places",function(){n.getCanvas().style.cursor="pointer"}),n.on("mouseleave","places",function(){n.getCanvas().style.cursor=""})}),document.getElementById("export").addEventListener("click",function(t){s();var e="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a));document.getElementById("export").setAttribute("href","data:"+e),document.getElementById("export").setAttribute("download","data.geojson")}),document.getElementById("load").addEventListener("change",function(t){var e=document.getElementById("load").files,n=e[0].name.split(".").length-1,a=e[0].name.split(".");if(e.length<=0)return!1;var o=new FileReader;if("geojson"!==a[n])return alert("Upload geojson file"),!1;o.onload=function(t){var e=JSON.parse(t.target.result),n=JSON.stringify(e,null,2);document.getElementById("result").value=n,document.querySelector(".container--right").style.display="flex",e.features.forEach(function(t){l(t)})},o.readAsText(e.item(0))})},function(t,e){},function(t,e,n){"use strict";n.r(e),e.default='<!DOCTYPE html>\n<html lang="en">\n\n<head>\n\t<meta charset="UTF-8">\n\t<meta name="viewport" content="width=device-width, initial-scale=1">\n\t<title>Mapbox Marker </title>\n\t\x3c!-- Twitter Card data --\x3e\n\t<meta name="twitter:card" value="Mapbox Marker">\n\t<meta name="Description"\n\t\tcontent="Mapbox where you can add markers on the map, export data GeoJson, Impoer Data GeoJson, change color marker ." />\n\t\x3c!-- Open Graph data --\x3e\n\t<meta property="og:title" content="Mapbox Marker" />\n\t<meta property="og:type" content="article" />\n\t<meta property="og:url" content="https://lifenautjoe.github.io/webpack-starter-basic/" />\n\t<meta property="og:image" content="https://krowli.com/img/icons/favicon-32x32.png" />\n\t<meta property="og:description"\n\t\tcontent="Mapbox where you can add markers on the map, export data GeoJson, Impoer Data GeoJson, change color marker ." />\n\t\x3c!-- Mobile header color for Chrome, Firefox OS and Opera --\x3e\n\t<meta name="theme-color" content="#228f20">\n\t\x3c!-- Mobile header color Windows Phone --\x3e\n\t<meta name="msapplication-navbutton-color" content="#228f20">\n\t\x3c!-- Mobile header color for iOS Safari (supports black, black-translucent or default) --\x3e\n\t<meta name="apple-mobile-web-app-status-bar-style" content="default">\n\t<script src=\'https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl.js\'><\/script>\n\t<link href=\'https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl.css\' rel="stylesheet" />\n\t<script src=\'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.1/mapbox-gl-geocoder.min.js\'>\n\t<\/script>\n\t<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"\n\t\tintegrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">\n\t<link href=\'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.1/mapbox-gl-geocoder.css\'\n\t\ttype=\'text/css\' rel="stylesheet" />\n\t<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">\n</head>\n\n<body>\n\t<style>\n\n\t</style>\n\t<div id=\'map\'></div>\n\t<pre id=\'coordinates\' class=\'coordinates\'></pre>\n\t<pre id=\'info\'></pre>\n\t<div id=\'markers\'>\n\t\t\x3c!-- 0 – black, 1 – gray, 2 – red, 3 – orange, 4 – lime, 5 – green  --\x3e\n\t\t<div class="color-counter"><span class="number">Total</span><span class="count total" data-pcount="total">0</span>\n\t\t</div>\n\t\t<div class="color-counter"><span class="number green">Five</span><span class="count five"\n\t\t\t\tdata-pcount="five">0</span></div>\n\t\t<div class="color-counter"><span class="number lime">Four</span><span class="count four "\n\t\t\t\tdata-pcount="four">0</span></div>\n\t\t<div class="color-counter"><span class="number orange">Three</span><span class="count three"\n\t\t\t\tdata-pcount="three">0</span></div>\n\t\t<div class="color-counter"><span class="number red">Two</span><span class="count two " data-pcount="two">0</span>\n\t\t</div>\n\t\t<div class="color-counter"><span class="number gray">One</span><span class="count one" data-pcount="one">0</span>\n\t\t</div>\n\t\t<div class="color-counter"><span class="number black">Zero</span><span class="count zero"\n\t\t\t\tdata-pcount="zero">0</span></div>\n\t\t<div class="wrapper">\n\t\t\t<div class="image-upload">\n\t\t\t\t<label for="load">\n\t\t\t\t\t<i class="fa fa-upload fa-3x" aria-hidden="true"></i>\n\t\t\t\t</label>\n\t\t\t\t<input id="load" type="file" />\n\t\t\t</div>\n\t\t\t<div class="download">\n\t\t\t\t<a href="#" id="export"><i class="fa fa-download fa-3x" aria-hidden="true"></i></a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="wrapper">\n\t\t\t<button type="button" value="Dragged" id="dragged"><i class="fa fa-hand-rock-o fa-3x"\n\t\t\t\t\taria-hidden="true"></i></button>\n\t\t</div>\n\t</div>\n\t<div class="container--right">\n\t\t<textarea id="result">\n\n\t\t\t\t</textarea>\n\t</div>\n\t</div>\n\n\t<\/script>\n</body>\n\n</html>\n'}]);